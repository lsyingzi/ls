<!DOCTYPE html>
<html>
    <head lang="en">
        <meta charset="UTF-8">
        <title>拖拽</title>
        <style>
            *{
                margin: 0;
                padding: 0;
            }
            #drag {
                width: 200px;
                height: 200px;
                background:red;
                position: absolute;
                left: 0;
            }
        </style>
    </head>
    <body>
    <div id="drag">
    </div>
    <script>
        var oDrag = document.getElementById("drag");
        oDrag.onmousedown = function (e) {
            e = e || window.event;
            var left = e.clientX - oDrag.offsetLeft;
            var top = e.clientY - oDrag.offsetTop;
            document.onmousemove = function (eve) {
                eve = eve || window.event;
                var aleft = eve.clientX - left;
                var atop = eve.clientY - top;
                if(aleft < 0){
                    aleft = 0;
                }else if(aleft > document.documentElement.clientWidth - oDrag.offsetWidth ){
                    aleft = document.documentElement.clientWidth - oDrag.offsetWidth ;
                }
                if(atop < 0){
                    atop = 0;
                }else if(atop > document.documentElement.clientHeight - oDrag.offsetHeight ){
                    atop = document.documentElement.clientHeight - oDrag.offsetHeight ;
                }
                oDrag.style.left = aleft + 'px';
                oDrag.style.top = atop + 'px';
            };
            document.onmouseup = function (){
                document.onmousemove = null;
            }
        };
    </script>
    </body>
</html>